---
import PluginStats from './PluginStats.astro';

interface Props {
  slug: string;
  name: string;
  description: string;
  version: string;
  stars: number;
  forks: number;
  lastPush: string;
  language?: string | null;
}

const { slug, name, description, version, stars, forks, lastPush, language } = Astro.props;
---

<a href={`/plugins/${slug}`} class="block plugin-card bg-white rounded-xl p-6 shadow-sm hover:shadow-lg border border-gray-200 hover:border-blue-200 transition-all duration-200">
  <div class="flex items-center space-x-2 mb-3">
    <div class="flex-shrink-0">
      <svg class="size-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="1.5">
        <path stroke-linecap="round" stroke-linejoin="round" d="M17.25 6.75L22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3l-4.5 16.5" />
      </svg>
    </div>
    <h3 class="text-lg font-semibold text-gray-900 truncate">{name}</h3>
  </div>

  <p class="text-gray-600 text-sm leading-relaxed mb-4 line-clamp-3">{description}</p>

  <div class="flex flex-wrap gap-1.5 mb-4">
    {version && version !== 'N/A' && (
      <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800">
        v{version}
      </span>
    )}
    {language && (
      <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-700">
        {language}
      </span>
    )}
  </div>

  <PluginStats stars={stars} forks={forks} lastPush={lastPush} compact />
</a>
